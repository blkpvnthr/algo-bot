
# ğŸ’° algo-bot

A real-time trading assistant built with Flask and Python that connects to the Alpaca Markets API to execute live trades, respond to price movements, and receive TradingView alerts via webhooks.

---

![Welcome!](images/algobot2.png)

## Usage

### Prerequisites
Open a terminal and create a new virtual environment then install dependencies.
```bash
pip install -r requirements.txt
```

### âš™ï¸ To Get Started
Run `app.py` to connect to realtime market data.
```bash
python app.py
```

### Open the App
Open the browser and navigate to `http://localhost:5002`.
```bash
http://localhost:5002
```

### `Place a trade`
To execute a trade manually, send a POST request to the `/trade` endpoint with the following parameters:

```bash
curl -X POST http://localhost:5002/trade -d "symbol=AAPL&qty=1&side=buy"
```

---

## ğŸš€ Features

- ğŸ”„ **Real-Time Data via WebSocket** (Alpaca IEX)
- ğŸ›’ **Market Order Execution** via Alpaca Trading API
- ğŸ§  **Trade Triggers Based on Price Movement**
- ğŸ“¤ **Webhook Endpoint for TradingView Alerts**
- ğŸ§µ **Multithreaded WebSocket Handling**
- ğŸ“‹ **JSON-Formatted Order Logs for Easy Auditing**

---

## ğŸ§± Tech Stack

| Tool         | Purpose                             |
|--------------|-------------------------------------|
| Python       | Core programming language           |
| Flask        | Web server and API routing          |
| Alpaca API   | Trading and market data             |
| WebSocketApp | Real-time data stream               |
| HTML/Jinja2  | Frontend rendering (basic)          |
| threading    | Concurrent WebSocket execution      |


---

## ğŸ“‚ Project Structure

```
algo-bot/
â”œâ”€â”€ app.py                  # Flask app factory + route registration
â”œâ”€â”€ wsgi.py                 # Gunicorn entrypoint (app = create_app())
â”‚
â”œâ”€â”€ api/                    # REST API blueprints
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ runs.py             # /api/runs (backtests, execution)
â”‚   â”œâ”€â”€ strategies.py       # /api/strategies (saved scripts)
â”‚   â””â”€â”€ schemas.py          # Request/response validation
â”‚
â”œâ”€â”€ models/                 # Persistence layer (SQLite)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ db.py               # DB init + connection helpers
â”‚   â”œâ”€â”€ run_repo.py         # Runs table access
â”‚   â””â”€â”€ strategy_repo.py    # Strategies table access
â”‚
â”œâ”€â”€ services/               # Core business logic
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_sources.py     # Alpaca / yfinance loaders
â”‚   â”œâ”€â”€ runner_service.py   # Run orchestration (local/Docker)
â”‚   â”œâ”€â”€ artifact_service.py # Artifact discovery
â”‚   â”œâ”€â”€ storage_service.py  # Workspace + file management
â”‚   â””â”€â”€ limits.py           # Safety limits (timeouts, sizes)
â”‚
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ templates/          # Jinja templates (UI)
â”‚   â”‚   â”œâ”€â”€ index.html      # Dashboard
â”‚   â”‚   â”œâ”€â”€ brokers.html    # Broker cards page
â”‚   â”‚   â”œâ”€â”€ scripts.html    # Online IDE / backtester
â”‚   â”‚   â””â”€â”€ navbar.html
â”‚   â”‚
â”‚   â””â”€â”€ static/             # CSS / JS assets
â”‚       â”œâ”€â”€ styles.css
â”‚       â””â”€â”€ scripts.js
â”‚
â”œâ”€â”€ data/                   # Local SQLite DB + cached data
â”‚   â””â”€â”€ app.db
â”‚
â”œâ”€â”€ workspaces/             # Per-run execution sandboxes
â”‚   â””â”€â”€ <run_id>/
â”‚       â”œâ”€â”€ data/
â”‚       â”œâ”€â”€ artifacts/
â”‚       â””â”€â”€ run.json
â”‚
â”œâ”€â”€ tests/                  # pytest tests
â”‚   â””â”€â”€ test_smoke.py
â”‚
â”œâ”€â”€ requirements.txt        # Python dependencies
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml          # Lint + tests + app startup
â”‚       â””â”€â”€ pages.yml       # Static export + GitHub Pages deploy
â”‚
â””â”€â”€ README.md

```

---

## ğŸ”’ Security Note
Do **NOT** commit your Alpaca API credentials. Use environment variables or a secrets manager in production.


---

## ğŸ§  Author

This project was built by **[Asmaa Abdul-Amin](https://asmaa.dev)**.

> âš ï¸ This project is for educational use only. It does not constitute financial advice or real trading recommendations.
